# Vulnerability Scanning

## Introduction

Using libraries with known vulnerabilities in scala projects is one of
the [OWASP Top 10](https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%28en%29.pdf.pdf)
issues which can be remediated using the
[sbt-dependency-check](https://github.com/albuch/sbt-dependency-check)
plugin which builds on the work of the [dependency-check](https://github.com/jeremylong/DependencyCheck)
plugin.

## Getting started

Just add
```
addSbtPlugin("net.vonbuchholtz" % "sbt-dependency-check" % "0.2.4")
```
to your project/plugins.sbt and run `sbt dependencyCheck` to produce
the file target/scala-2.12/dependency-check-report.html which
is the report of libraries with known vulnerabilites

## Dealing with vulnerabilities

At this point the report has likely highlighted quite a few vulnerabilites
and provided links to the [NIST National Vulnerability Database](https://nvd.nist.gov/vuln)

It is very possible that a reported vulnerability cannot be exploited
in your particular environment and after careful consideration you might
like to exclude that particular vulnerability from being reported.

This can be done with a [suppression](https://jeremylong.github.io/DependencyCheck/general/suppression.html)
file which you tell sbt about with the following addition to your build.sbt.
This file should be checked into source code control.

```
dependencyCheckSuppressionFiles := Seq("dependencyCheckSuppression.xml").map(new File(_))
```

The report provides buttons which when clicked provide fragments of XML
that can be pasted into the suppression file. It is suggested as you suppress
each vulnerability to add a comment to the XML fragment to explain your reasoning.

If a vulnerability can be exploited then the library should be upgraded.

It is also possible that a library actually is not needed in your final deployment
and can be excluded as a dependency from your build.

## Wrap Up

The [sbt-dependency-check](https://github.com/albuch/sbt-dependency-check) plugin is
an easy to use plug in to enhance your applications security. For additional security it
can be incorporated into your continuous integration or continuous delivery pipeline.

